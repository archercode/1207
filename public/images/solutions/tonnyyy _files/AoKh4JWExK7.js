/*!CK:4231357926!*//*1434123835,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["VLy7T"]); }

__d("AdsCFCheckbox.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l=g.createClass({displayName:"AdsCFCheckbox",propTypes:{name:k.string,onChange:k.func,checked:k.bool.isRequired,label:k.string.isRequired,inline:k.bool},getInitialState:function(){return {focused:false,pressed:false};},render:function(){var m=this.props.label?g.createElement("span",{className:"_5y_a"},this.props.label):null,n=this.props.checked,o=!!this.props.disabled,p=!o&&this.state.focused,q=!o&&this.state.pressed,r=i((("clearfix")+(' '+"_5y_b")+(!!this.props.inline?' '+"_5y_c":'')+(n?' '+"checked":'')+(o?' '+"disabled":'')+(p?' '+"focused":'')+(q?' '+"pressed":'')),this.props.className),s=(("_5y_d")+(!!m?' '+"_5y_e":'')),t=o?-1:0;return (g.createElement("div",{onKeyPress:o?null:this._onKeyPress,onMouseDown:o?null:this._onMouseDown,onMouseUp:o?null:this._onMouseUp,onClick:o?null:this._onClick,onFocus:o?null:this._onFocus,onBlur:o?null:this._onBlur,className:r,role:"checkbox","aria-labelledby":this.props.label,"aria-disabled":o,"aria-checked":n,tabIndex:t},g.createElement("i",{className:s}),g.createElement("span",{className:"_5y_a"},this.props.label)));},_onKeyPress:function(event){var m=event.keyCode;if(m===13||m===32)this._onClick(event);},_onMouseDown:function(){if(!this.state.pressed)this.setState({pressed:true});},_onMouseUp:function(){if(this.state.pressed)this.setState({pressed:false});},_onClick:function(event){event.preventDefault();this.props.onChange&&this.props.onChange(!this.props.checked,this.props.name||'',this.props.value);},_onFocus:function(){this.setState({focused:true});},_onBlur:function(){this.setState({focused:false,pressed:false});}});e.exports=l;},null);
__d("BoostedPostDialogButtonWrapper.react",["BoostedPostDialogButton.react","React"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=h,j=i.PropTypes,k=h.createClass({displayName:"BoostedPostDialogButtonWrapper",propTypes:{data:j.shape({status:j.string.isRequired,buttonID:j.string.isRequired,ineligible:j.bool.isRequired,autoOpen:j.bool.isRequired,configData:j.object.isRequired}),placement:j.string.isRequired},render:function(){var l=this.props.data;if(!l)return h.createElement("span",null);return (h.createElement("div",{id:l.buttonID},h.createElement(g,{buttonID:l.buttonID,status:l.status,ineligible:l.ineligible,placement:this.props.placement,displaySection:l.displaySection,autoOpen:l.autoOpen,configData:l.configData,reactDialog:l.reactDialog})));}});e.exports=k;},null);
__d("TextInputFilter.brands",["AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterOperator","Keys","React"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=k,m=l.PropTypes,n=200,o=k.createClass({displayName:"TextInputFilter",propTypes:{onChange:m.func.isRequired,value:m.string,placeholder:m.string,filterField:m.instanceOf(h).isRequired,hasCustomValue:m.bool,changeDebounceMS:m.number},getDefaultProps:function(){return {hasCustomValue:false,changeDebounceMS:n};},getInitialState:function(){return {filter:null,value:this.props.value||""};},componentWillReceiveProps:function(p){if(this.props.hasCustomValue&&p.value!==this.state.value)this.setState({value:p.value});},render:function(){return (k.createElement("input",{className:this.props.className,value:this.state.value,onChange:this._onKeywordInputChange,onKeyPress:this._onKeywordInputEnter,placeholder:this.props.placeholder}));},_changeDebounceTimer:null,_onKeywordInputChange:function(p){var q=p.target.value;this.setState({value:q});if(!q){this.setState({filter:null},this._announceFilterChange);}else{var r=new g(this.props.filterField,i.CONTAIN,q);this.setState({filter:r},this._announceFilterChange);}},_onKeywordInputEnter:function(p){if(p.charCode===j.RETURN)this._announceFilterChangeImmediately();},_announceFilterChangeImmediately:function(){clearInterval(this._changeDebounceTimer);this.props.onChange(this.state.filter);},_announceFilterChange:function(){if(this._changeDebounceTimer)clearInterval(this._changeDebounceTimer);this._changeDebounceTimer=setTimeout(this._announceFilterChangeImmediately,this.props.changeDebounceMS);}});e.exports=o;},null);
__d("InsightsTableHeaderMenu.react",["InsightsTableHeaderCell.react","PopoverMenu.react","React","ReactChildren","ReactXUIMenu","cloneWithProps","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=k.SelectableMenu,o=i.createClass({displayName:"InsightsTableHeaderMenu",_handleItemClick:function(event,p){if(this.props.onSortChange)this.props.onSortChange('itemclick',{value:p.item.getValue()});},render:function(){var p=this.props.label?i.createElement("span",{className:"_5k4k"},this.props.label):null,q;for(var r=0;r<this.props.sortKeys.length;++r)if(this.props.sortKeys[r].value==this.props.activeSortKey){this.props.sortKeys[r].selected=true;q=this.props.activeSortKey;}var s=j.map(this.props.sortKeys,function(v,w){return l(v,{key:'sort_'+w});}),t=i.createElement(n,{onItemClick:this._handleItemClick},s),u=this.props.activeSortKey!=null?i.createElement(h,{alignh:'right',className:"_5k4l",menu:t},p):this.props.label;return (i.createElement(g,{activeSortKey:this.props.activeSortKey,className:"_5k4m",order:this.props.order,sortKey:q},u));}});e.exports=o;},null);
__d("InsightsDatePickerUtils",["AdsReportDatePresetType","fbt","d3/time/day","d3/time/month"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=b('d3/time/day').utc,j=b('d3/time/month').utc,k={getDefaultPresets:function(l){var m=Date.now();if(l==null){m-=new Date().getTimezoneOffset()*60*1000;}else m-=l*60*1000;var n=i.floor(new Date(m)),o=n.getUTCMonth();return [{preset:g.TODAY,title:h._("Today"),since:n.getTime(),until:n.getTime()},{preset:g.YESTERDAY,title:h._("Yesterday"),since:i.offset(n,-1).getTime(),until:i.offset(n,-1).getTime()},{preset:g.LAST_7_DAYS,title:h._("Last 7 days"),since:i.offset(n,-6).getTime(),until:n.getTime()},{preset:g.LAST_14_DAYS,title:h._("Last 14 days"),since:i.offset(n,-13).getTime(),until:n.getTime()},{preset:g.LAST_28_DAYS,title:h._("Last 28 days"),since:i.offset(n,-27).getTime(),until:n.getTime()},{preset:g.THIS_MONTH,title:h._("This month"),since:j.floor(n).getTime(),until:i.offset(j.ceil(n),-1).getTime()},{preset:g.THIS_QUARTER,title:h._("This quarter"),since:j.offset(j.floor(n),-o%3).getTime(),until:i.offset(j.offset(j.floor(n),3-(o%3)),-1).getTime()}];}};e.exports=k;},null);
__d("XUIDateRangePickerUtil",["UTCUtils","fbt","formatDate"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(){return 'F j, Y';}function k(n,o,p){return m(n,o,j(),p);}function l(n,o){return m(n,o,'l, '+j());}function m(n,o,p,q){if(q)return q;var r=i(g.dateToUTCDate(new Date(n)),p);if(n==o)return r;var s=i(g.dateToUTCDate(new Date(o)),p),t=h._("{start date} - {end date}",[h.param("start date",r),h.param("end date",s)]);return t;}e.exports={formatDateRange:k,formatDateRangeWithConfig:m,formatDateRangeWithDaysOfWeek:l,getDefaultFormat:j};},null);
__d("XUIDateSelectorCalendar.react",["ContextualLayerAutoFlip","ContextualLayerPositionClassOnContext","PopoverMenuContextMinWidth","PopoverMenuOverlappingBorder","React","PopoverMenu.react","XUIButtonGroup.react","XUICalendar.react","ReactXUIMenu","XUIPopoverButton.react","cx","emptyFunction","formatDate","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();'use strict';var u=o.SelectableItem,v=o.SelectableMenu,w=k,x=w.PropTypes,y=k.createClass({displayName:"XUIDateSelectorCalendar",propTypes:{allowVariableRowCount:x.bool,dateRestraints:x.array,dayInnerFormatter:x.func,descendingYear:x.bool,focusTime:x.number.isRequired,maxMenuHeight:x.number,maxYear:x.number,minYear:x.number,onFocusDateChange:x.func,onSelectDateChange:x.func,rangeSelectTime:x.number,selectTime:x.number},getDefaultProps:function(){return {maxYear:(new Date()).getFullYear(),minYear:2012,onFocusDateChange:r,onSelectDateChange:r};},render:function(){var aa=new Date(this.props.focusTime),ba=t("_2-cn",this.props.className);return (k.createElement("div",{className:ba},k.createElement(z,{descendingYear:this.props.descendingYear,maxMenuHeight:this.props.maxMenuHeight,maxYear:this.props.maxYear,minYear:this.props.minYear,onChange:this.props.onFocusDateChange,selectDate:aa}),k.createElement(n,{allowVariableRowCount:this.props.allowVariableRowCount,dateRestraints:this.props.dateRestraints,dayInnerFormatter:this.props.dayInnerFormatter,focusTime:this.props.focusTime,highlightedTimes:this.props.highlightedTimes,onFocusDateChange:this.props.onFocusDateChange,onSelectDateChange:this.props.onSelectDateChange,rangeSelectTime:this.props.rangeSelectTime,selectTime:this.props.selectTime})));}}),z=k.createClass({displayName:"FocusDateSelector",propTypes:{descendingYear:x.bool,maxMenuHeight:x.number,maxYear:x.number.isRequired,minYear:x.number.isRequired,onChange:x.func.isRequired,selectDate:x.instanceOf(Date).isRequired},_daysInMonth:function(aa,ba){return new Date(ba,aa+1,0).getDate();},_onSelectorChange:function(event,aa){var ba=new Date(this.props.selectDate.getTime()),ca=new Date(ba.getFullYear(),ba.getMonth(),ba.getDate()+1),da;if(aa.value<12){da=this._daysInMonth(aa.value,ca.getFullYear());if(da<ca.getDate())ba.setUTCDate(da);ba.setUTCMonth(aa.value);}else{da=this._daysInMonth(ca.getMonth(),aa.value);if(da<ca.getDate())ba.setUTCDate(da);ba.setUTCFullYear(aa.value);}this.props.onChange(ba);},render:function(){var aa=[],ba=[],ca=new Date(0);for(var da=0;da<12;++da){ca.setMonth(da,1);aa.push(k.createElement(u,{key:da,value:da,selected:da===this.props.selectDate.getUTCMonth()},s(ca,'F')));}for(var ea=this.props.minYear;ea<=this.props.maxYear;++ea){ca.setFullYear(ea);ba.push(k.createElement(u,{key:ea,value:ea,selected:ea===this.props.selectDate.getUTCFullYear()},s(ca,'Y')));}if(this.props.descendingYear)ba.reverse();var fa=k.createElement(l,{className:"_2-co",menu:k.createElement(v,{maxheight:this.props.maxMenuHeight,onChange:this._onSelectorChange},aa),layerBehaviors:[g,h],behaviors:[j,i]},k.createElement(p,{className:"_2-cp",label:s(this.props.selectDate,'F',{utc:true})})),ga=k.createElement(l,{className:"_2-cq",menu:k.createElement(v,{className:"_2-cr",maxheight:this.props.maxMenuHeight,onChange:this._onSelectorChange},ba),layerBehaviors:[g,h],behaviors:[j,i]},k.createElement(p,{className:"_2-cs",label:s(this.props.selectDate,'Y',{utc:true})})),ha=t(this.props.className,"_2-ct");return (k.createElement(m,k.__spread({},this.props,{className:ha}),fa,ga));}});e.exports=y;},null);
__d("XUIDateRangePickerLayer.react",["Grid.react","Layout.react","React","XUIButton.react","XUIDateRangePickerUtil","XUIDateSelectorCalendar.react","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=h.Column,q=g.GridItem,r=i,s=r.PropTypes,t=i.createClass({displayName:"XUIDateRangePickerLayer",propTypes:{defaultStartFocusTime:s.number.isRequired,defaultStartTime:s.number,defaultEndFocusTime:s.number.isRequired,defaultEndTime:s.number,highlightedTimes:s.array,startDateRestraints:s.array,endDateRestraints:s.array,yearRangePast:s.number,yearRangeFuture:s.number,onRangeSelected:s.func,onCancelButtonClick:s.func,showClearSelectionButton:s.bool,timezoneName:s.string},getDefaultProps:function(){return {yearRangeFuture:0,yearRangePast:0};},getStartTime:function(){return this.state.startTime;},getEndTime:function(){return this.state.endTime;},getStartFocusTime:function(){return this.state.startFocusTime||this.props.defaultStartFocusTime;},getEndFocusTime:function(){return this.state.endFocusTime||this.props.defaultEndFocusTime;},getInitialState:function(){return {startTime:this.props.defaultStartTime,endTime:this.props.defaultEndTime,startFocusTime:this.props.defaultStartTime,endFocusTime:this.props.defaultEndTime};},onStartFocusDateChange:function(u){var v=this._allDateRestraints(),w=v.startRestraints;if(w.every(function(x){return x(u);})){this.onStartSelectDateChange(u);}else this.setState({startFocusTime:u.getTime()});},onEndFocusDateChange:function(u){var v=this._allDateRestraints(),w=v.endRestraints;if(w.every(function(x){return x(u);})){this.onEndSelectDateChange(u);}else this.setState({endFocusTime:u.getTime()});},onStartSelectDateChange:function(u){var v=u.getTime(),w=this.getEndTime();if(v>w){this.setState({startTime:v,startFocusTime:v,endTime:v,endFocusTime:v});}else this.setState({startTime:v,startFocusTime:v,endTime:w});},onEndSelectDateChange:function(u){var v=this.getStartTime(),w=u.getTime();if(v>w){this.setState({startTime:w,startFocusTime:w,endTime:w,endFocusTime:w});}else this.setState({startTime:v,endTime:w,endFocusTime:w});},onOkayButtonClick:function(){var u=this.getStartTime(),v=this.getEndTime();this.props.onRangeSelected&&this.props.onRangeSelected(u,v);},onCancelButtonClick:function(){this.props.onCancelButtonClick&&this.props.onCancelButtonClick();},onClearSelection:function(){this.setState({startTime:null,endTime:null});},_setSelectedRange:function(u,v){this.setState({startTime:u,endTime:v});},_allDateRestraints:function(){var u=this.getStartTime(),v=this.getEndTime(),w=this.props.startDateRestraints||[],x=this.props.endDateRestraints||[],y=function(aa){return !(v&&aa.getTime()>v&&x.some(function(ba){return !ba(aa);}));},z=function(aa){return !(u&&aa.getTime()<u&&w.some(function(ba){return !ba(aa);}));};return {startRestraints:w.concat([y]),endRestraints:x.concat([z])};},render:function(){var u=new Date(this.props.defaultStartFocusTime),v=new Date(this.props.defaultEndFocusTime),w=u.getFullYear()-this.props.yearRangePast,x=v.getFullYear()+this.props.yearRangeFuture,y=this.getStartTime(),z=this.getEndTime(),aa=this._allDateRestraints(),ba=aa.startRestraints,ca=aa.endRestraints,da;if(!y){da=n._("Select a start date");}else if(!z){da=n._("Select an end date");}else da=k.formatDateRange(y,z);var ea=null;if(this.props.timezoneName){var fa=n._("Dates are in {timezone name}",[n.param("timezone name",this.props.timezoneName)]);ea=i.createElement("div",{className:"_46jc"},fa);}var ga=y||z,ha=y&&z||this.props.showClearSelectionButton,ia=ha?this.onOkayButtonClick:null,ja=this.props.showClearSelectionButton?i.createElement(j,{label:n._("Clear Selection"),onClick:this.onClearSelection,disabled:!ga,type:"button"}):null;return (i.createElement("div",{className:o(this.props.className,"_5wp5")},i.createElement(h,{className:"_5hq4"},i.createElement(p,{className:"_3hac"},i.createElement(l,{className:"_5hq5",allowVariableRowCount:false,dateRestraints:ba,focusTime:this.getStartFocusTime(),highlightedTimes:this.props.highlightedTimes,minYear:w,maxYear:x,onFocusDateChange:this.onStartFocusDateChange,onSelectDateChange:this.onStartSelectDateChange,rangeSelectTime:this.getEndTime(),selectTime:this.getStartTime()})),i.createElement(p,{className:"_5hq6"},i.createElement("strong",null,n._("to"))),i.createElement(p,{className:"_3hac"},i.createElement(l,{className:"_5hq5",allowVariableRowCount:false,dateRestraints:ca,focusTime:this.getEndFocusTime(),highlightedTimes:this.props.highlightedTimes,minYear:w,maxYear:x,onFocusDateChange:this.onEndFocusDateChange,onSelectDateChange:this.onEndSelectDateChange,rangeSelectTime:this.getStartTime(),selectTime:this.getEndTime()}))),i.createElement(g,{cols:2,alignv:"middle",width:"100%"},i.createElement(q,null,i.createElement("div",{className:"_5hq7"},da),ea),i.createElement(q,{className:"_46jd"},ja,i.createElement(j,{label:n._("Cancel"),onClick:this.onCancelButtonClick,type:"button"}),i.createElement(j,{label:n._("OK"),use:"confirm",disabled:!ha,onClick:ia,type:"button"})))));}});e.exports=t;},null);
__d("XUIDateRangePicker.react",["ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","LayerAutoFocus","LayerHideOnBlur","LayerHideOnEscape","React","ReactLayeredComponentMixin","XUIPopoverButton.react","XUICard.react","XUIDateRangePickerLayer.react","XUIDateRangePickerUtil","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();var v=m,w=v.PropTypes,x=m.createClass({displayName:"XUIDateRangePicker",mixins:[n],propTypes:{defaultStartFocusTime:w.number.isRequired,defaultStartSelectTime:w.number,defaultEndFocusTime:w.number.isRequired,defaultEndSelectTime:w.number,allowNullSelection:w.bool,buttonProps:w.object,highlightedTimes:w.array,startDateRestraints:w.array,endDateRestraints:w.array,actuatorSuppressed:w.bool,actuatorDefaultLabel:w.string,actuatorSize:w.string,actuatorDisabled:w.bool,startInputName:w.string,endInputName:w.string,yearRangePast:w.number,yearRangeFuture:w.number,calendarAlignment:w.string,onRangeSelected:w.func,rangePresets:w.object,timezoneName:w.string,labelFormatString:w.string},getDefaultProps:function(){return {actuatorDisabled:false,startInputName:'date_range_start',endInputName:'date_range_end',yearRangePast:0,yearRangeFuture:1,labelFormatString:r.getDefaultFormat()};},getInitialState:function(){var y=this.props.defaultStartSelectTime,z=this.props.defaultEndSelectTime;if(y&&z)return {showLayer:false,startFocusTime:this.props.defaultStartFocusTime,endFocusTime:this.props.defaultEndFocusTime,startInputTime:y,endInputTime:z};return {startFocusTime:this.props.defaultStartFocusTime,endFocusTime:this.props.defaultEndFocusTime,showLayer:false};},componentWillReceiveProps:function(y){var z=y.defaultStartSelectTime,aa=y.defaultEndSelectTime;if(z!==undefined&&aa!==undefined)this.setState({startInputTime:z,endInputTime:aa});},_onToggle:function(y){if(!y)this.setState({showLayer:false});},renderLayers:function(){if(!this.state.showLayer)return {};var y=null;if(this.props.rangePresets)y=(m.createElement("div",{className:"_57ux",onClick:this.onSelectButtonClick},this.props.rangePresets));return {layer:m.createElement(g,{behaviors:{LayerAutoFocus:j,LayerHideOnBlur:k,LayerHideOnEscape:l,ContextualLayerUpdateOnScroll:i,ContextualLayerAutoFlip:h},contextRef:function(){return this.refs.actuator;}.bind(this),position:"below",alignment:this.props.calendarAlignment,offsetY:3,shown:true,onToggle:this._onToggle},m.createElement(p,{className:"_5hq3 clearfix"},y,m.createElement(q,{defaultStartFocusTime:this.state.startFocusTime,defaultStartTime:this.state.startInputTime,defaultEndFocusTime:this.state.endFocusTime,defaultEndTime:this.state.endInputTime,highlightedTimes:this.props.highlightedTimes,startDateRestraints:this.props.startDateRestraints,endDateRestraints:this.props.endDateRestraints,yearRangePast:this.props.yearRangePast,yearRangeFuture:this.props.yearRangeFuture,onRangeSelected:this.onRangeSelected,onCancelButtonClick:this.onCancelButtonClick,showClearSelectionButton:this.props.allowNullSelection,timezoneName:this.props.timezoneName})))};},onRangeSelected:function(y,z){this.setState({startInputTime:y,endInputTime:z,showLayer:false});if(this.props.onRangeSelected)this.props.onRangeSelected(y,z);},onCancelButtonClick:function(){this.setState({showLayer:false});},onSelectButtonClick:function(){this.setState({showLayer:!this.state.showLayer});},render:function(){var y;if(this.state.startInputTime&&this.state.endInputTime){y=r.formatDateRangeWithConfig(this.state.startInputTime,this.state.endInputTime,this.props.labelFormatString,this.props.selectedPresetLabel);}else y=this.props.actuatorDefaultLabel||t._("Select");return (m.createElement("span",m.__spread({},this.props,{className:u(this.props.className,"_5hq9")}),m.createElement(o,m.__spread({},this.props.buttonProps,{ref:"actuator",label:y,onClick:this.onSelectButtonClick,suppressed:this.props.actuatorSuppressed,type:"button",size:this.props.actuatorSize,disabled:this.props.actuatorDisabled,maxwidth:0})),m.createElement("input",{type:"hidden",name:this.props.startInputName,value:this.state.startInputTime}),m.createElement("input",{type:"hidden",name:this.props.endInputName,value:this.state.endInputTime})));}});e.exports=x;},null);
__d("InsightsDatePicker.react",["InsightsDatePickerUtils","Link.react","React","UTCUtils","XUIDateRangePicker.react","cx","fbt","d3/time/day"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=b('d3/time/day').utc,o=i,p=o.PropTypes,q=i.createClass({displayName:"InsightsDatePicker",propTypes:{timezoneOffset:p.number,selectedDateRange:p.object,lifetimeDateRange:p.object,selectedPreset:p.string,selectedPresetLabel:p.string,presets:p.array,onRangeChange:p.func.isRequired},parseTime:function(r){if(r===null)return null;if(this.props.timezoneOffset==null)r=j.dateToUTC(new Date(r));return n.floor(new Date(r)).getTime();},formatTime:function(r){if(r===null)return null;if(this.props.timezoneOffset==null)r=j.dateToUTCDate(new Date(r)).getTime();return r;},createRangeUl:function(r,s){return (i.createElement("ul",{key:'item_'+s,className:"_5adk"},r.map(this.createRangeAnchor,this)));},createRangeAnchor:function(r,s){var t=function(){this.onPresetSelected(r.since,r.until,r.preset,r.isLifetime);}.bind(this);return (i.createElement("li",{key:'item_'+s},i.createElement(h,{onClick:t},r.title)));},onPresetSelected:function(r,s,t,u){return this.props.onRangeChange({since:this.formatTime(r),until:this.formatTime(s),preset:t,isLifetime:u});},onRangeSelected:function(r,s){return this.props.onRangeChange({since:this.formatTime(r),until:this.formatTime(s)});},render:function(){var r=Date.now();if(this.props.timezoneOffset==null){r-=new Date().getTimezoneOffset()*60*1000;}else if(this.props.timezoneOffset)r-=this.props.timezoneOffset*60*1000;var s=n.floor(new Date(r)),t;if(!this.props.presets){t=g.getDefaultPresets(this.props.timezoneOffset);}else t=this.props.presets;if(this.props.lifetimeDateRange&&this.props.lifetimeDateRange.since&&this.props.lifetimeDateRange.until)t.unshift({title:m._("Lifetime"),since:this.parseTime(this.props.lifetimeDateRange.since),until:this.parseTime(this.props.lifetimeDateRange.until),isLifetime:true});var u=[],v=2;for(var w=0;w<t.length;w++)if(w%v===0){u.push([t[w]]);}else u[Math.floor(w/v)].push(t[w]);var x=(i.createElement("div",null,u.map(this.createRangeUl,this))),y=null,z=null;if(this.props.selectedDateRange){y=this.parseTime(this.props.selectedDateRange.since);z=this.parseTime(this.props.selectedDateRange.until);}else if(this.props.selectedPreset){var aa=t.filter(function(ga){return this.props.selectedPreset===ga.preset;},this);y=aa[0]&&aa[0].since;z=aa[0]&&aa[0].until;}var ba=y?y:r,ca=5;if(this.props.lifetimeDateRange&&this.props.lifetimeDateRange.since){var da=new Date(this.parseTime(this.props.lifetimeDateRange.since));ca=new Date(ba).getUTCFullYear()-da.getUTCFullYear();ca=Math.max(1,ca+1);}var ea=z?z:r,fa=0;if(ea<r)fa=s.getUTCFullYear()-new Date(ea).getUTCFullYear();return (i.createElement(k,i.__spread({},this.props,{rangePresets:x,defaultStartFocusTime:ba,defaultStartSelectTime:y,defaultEndFocusTime:ea,defaultEndSelectTime:z,onRangeSelected:this.onRangeSelected,calendarAlignment:'right',yearRangePast:ca,yearRangeFuture:fa})));}});e.exports=q;},null);
__d("BUIForm.react",["AdsHelpLink.react","ClientIDs","React","ReactChildren","cloneWithProps","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=i,o=n.PropTypes,p=o.oneOf(['svelt','breathy','snug','taut']),q=o.oneOf(['left','top']),r=i.createClass({displayName:"BUIForm",propTypes:{density:p,labelPosition:q},getDefaultProps:function(){return {density:'svelt',labelPosition:'left'};},render:function(){var u=m(this.props.className,"_550r",((this.props.density==='breathy'?"_550s":'')+(this.props.density==='snug'?' '+"_550t":'')+(this.props.density==='svelt'?' '+"_550u":'')+(this.props.density==='taut'?' '+"_550v":'')+(this.props.labelPosition==='top'?' '+"_550w":'')+(this.props.labelPosition==='left'?' '+"_550y":'')+(this.props.labelPosition==='left'?' '+"_3w5n":''))),v=j.map(this.props.children,function(w){if(!w)return w;return k(w,{density:this.props.density,labelPosition:this.props.labelPosition});}.bind(this));return (i.createElement("div",{className:u},v));}}),s=i.createClass({displayName:"BUIFormSection",propTypes:{title:o.string,density:p,labelPosition:q},render:function(){var u=j.map(this.props.children,function(v){if(v)return k(v,{density:this.props.density,labelPosition:this.props.labelPosition});return v;}.bind(this));return (i.createElement("div",{className:m(this.props.className,(("_5511")+(!!this.props.title?' '+"_5512":'')))},i.createElement("div",{className:"_5513"},this.props.title),i.createElement("div",{className:"_5516"},u)));}}),t=i.createClass({displayName:"BUIFormElement",propTypes:{label:o.string.isRequired,labelAlign:o.oneOf(['normal','top']),helpText:o.string,infoText:o.oneOfType([o.string,o.object]),onClick:o.func,density:p,labelPosition:q},getDefaultProps:function(){return {labelAlign:'normal'};},render:function(){var u=h.getNewClientID(),v=j.map(this.props.children,function(w,x){if(!w)return w;var y={density:this.props.density,labelPosition:this.props.labelPosition};if(x===0)y.id=u;return k(w,y);}.bind(this));return (i.createElement("div",{className:m(this.props.className,"_5521 clearfix")},i.createElement("div",{className:"_5522 _3w5q"},i.createElement("label",{onClick:this.props.onClick,htmlFor:u,className:(("_5523")+(' '+"_3w5r")+(this.props.labelAlign==='top'?' '+"_5525":''))},this.props.label,this.props.helpText?(i.createElement(g,{className:"_5526"},this.props.helpText)):null)),i.createElement("div",{className:"_5527"},i.createElement("div",{className:"_5528"},v),this.props.infoText?(i.createElement("div",{className:"_5529"},this.props.infoText)):null)));}});r.Section=s;r.Element=t;e.exports=r;},null);
__d("BUIFormSelector.react",["BUIForm.react","React","XUISelector.react","invariant"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=b('XUISelector.react').Option,l=h.createClass({displayName:"BUIFormSelector",propTypes:Object.assign({},i.propTypes,{density:g.propTypes.density}),render:function(){var m=this.props,n=m.density,o=(function(q,r){var s={},t=Object.prototype.hasOwnProperty;if(q==null)throw new TypeError();for(var u in q)if(t.call(q,u)&&!t.call(r,u))s[u]=q[u];return s;})(m,{density:1}),p;switch(n){case 'breathy':case 'svelt':p='xlarge';break;case 'snug':p='large';break;case 'taut':p='medium';break;default:j(true);}return (h.createElement(i,h.__spread({},o,{size:p})));}});l.Option=k;e.exports=l;},null);
__d("MenuStaticItem.react",["MenuStaticItem"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(j){j.isReactLegacyFactory={};j.type=j;}var i=g;h(i);e.exports=i;},null);
__d("StickyArea.react",["React","StickyArea","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g.createClass({displayName:"StickyArea",componentDidMount:function(){this._stickyArea=new h(g.findDOMNode(this),true,this.props.offset||0);},componentDidUpdate:function(l){if(this.props.offset!==l.offset)this._stickyArea.setOffset(this.props.offset);h.reflow();},componentWillUnmount:function(){this._stickyArea.destroy();this._stickyArea=null;},render:function(){return (g.createElement("div",g.__spread({},this.props,{className:j(this.props.className,"_k"),ref:"root"}),this.props.children));}});e.exports=k;},null);
__d("XUIMenuStaticItem.react",["MenuStaticItem.react"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g;e.exports=h;},null);
__d("SpectrumMarkers",["SpectrumAnimationLayer","React","SpectrumDataVisualization","SpectrumUtilities"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=h.createClass({displayName:"SpectrumMarkers",mixins:[i.Mixin],statics:{isChartLayer:true},componentWillMount:function(){this.eventChannel=[];},handleEvent:function(l){var m=this.eventChannel;for(var n=m.length;n--;){var o=m[n];if(!o)continue;o.handleEvent(l);if(l.shouldStop)break;}},render:function(){var l=h.Children.map(this.props.children,function(m,n){if(!m)return;return j.mergeProps(m,{eventChannel:this.eventChannel,eventIndex:n,height:this.props.height,scaleX:this.props.scaleX,scaleY:this.props.scaleY,theme:this.props.theme,width:this.props.width});},this);return (h.createElement(g,{height:this.props.height,opacity:1,width:this.props.width},l));}});e.exports=k;},null);
__d("XPageInsightsExportFileController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/insights\/export_page_insights_file\/",{export_run_id:{type:"Int",required:true}});},null);
__d("XPageInsightsReportCheckAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/insights\/async\/report_check\/",{export_run_id:{type:"Int",required:true}});},null);
__d("PageInsightsExportHandler",["Arbiter","AsyncRequest","XPageInsightsExportFileController","XPageInsightsReportCheckAsyncController"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={asyncExport:function(l){setTimeout(function(){var m=j.getURIBuilder().setInt('export_run_id',l).getURI().toString();new h().setURI(m).send();},1000);},deprecatedExport:function(l){setTimeout(function(){g.inform(this.exportFinished,{});}.bind(this),3000);window.location.replace(l);},displayError:function(){g.inform(this.exportFailed,{});},exportFailed:'page_insights_export_failed',exportFinished:'page_insights_export_finished',exportFile:function(l){g.inform(this.exportFinished,{});var m=i.getURIBuilder().setInt('export_run_id',l).getURI().toString();window.location.replace(m);}};e.exports=k;},null);
__d("XPageInsightsExportAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/insights\/async\/export_page_insights\/",{data_level:{type:"Enum",required:true,enumType:1},end_time_text_field:{type:"String",required:true},format:{type:"Enum",required:true,enumType:1},page_id:{type:"String",required:true},parity_export:{type:"Bool",defaultValue:false},platform:{type:"String",required:true},prev_section:{type:"String"},section:{type:"String",required:true},start_time_text_field:{type:"String",required:true}});},null);
__d("HubblePageInsightsExportDialog.react",["AdsHelpLink.react","Arbiter","AsyncRequest","BUIForm.react","BUIFormSelector.react","DateConsts","d3/time/day","HubbleLogger","InputLabel.react","InsightsDatePicker.react","LayerFadeOnHide","Layout.react","Link.react","PageInsightsExportConfig","PageInsightsExportHandler","React","ReactLayeredComponentMixin","XPageInsightsExportAsyncController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogTitle.react","XUIDialogFooter.react","XUINotice.react","XUIGrayText.react","XUIText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia){b.__markCompiled&&b.__markCompiled();var ja=b('BUIFormSelector.react').Option,ka=r.Column,la=r.FillColumn,ma=v,na=ma.PropTypes,oa=v.createClass({displayName:"HubblePageInsightsExportOptionTitle",render:function(){return (v.createElement(ga,{className:"_493",display:"block",weight:"bold"},this.props.children));}}),pa=v.createClass({displayName:"HubblePageInsightsExportDataTypeOption",propTypes:{checked:na.bool,value:na.string.isRequired,onDataLevelChange:na.func.isRequired},getDefaultProps:function(){return {checked:false};},render:function(){return (v.createElement(o,{className:"_494"},v.createElement("input",{defaultChecked:this.props.checked,onChange:this._onDataLevelChange,name:"data_level",type:"radio",value:this.props.value}),v.createElement("label",null,v.createElement(ga,{display:"block",size:"medium"},this.props.children[0]),v.createElement(fa,{shade:"light"},this.props.children[1]))));},_onDataLevelChange:function(event){this.props.onDataLevelChange(event,this.props.value);}}),qa=v.createClass({displayName:"HubblePageInsightsExportDialog",mixins:[w],_successEventArbiterToken:null,_failureEventArbiterToken:null,getInitialState:function(){return {format:'xls',dataLevel:t.pageDataLevel,dateRangeIsTooLarge:false,downloadStarted:false,exportFailed:false,selectedOldVersion:false,selectedStartTimestamp:m.utc.offset(Date.now(),-28),selectedEndTimestamp:Date.now(),showDialog:false};},componentDidMount:function(){this._successEventArbiterToken=h.subscribe(u.exportFinished,this._handleExportFinished);this._failureEventArbiterToken=h.subscribe(u.exportFailed,this._handleExportFailed);},componentWillUnmount:function(){h.unsubscribe(this._successEventArbiterToken);h.unsubscribe(this._failureEventArbiterToken);},_handleExportFinished:function(){this.setState({downloadStarted:false,exportFailed:false});this.props.onDialogClose();},_handleExportFailed:function(){this.setState({exportFailed:true});},_getLifetimeRange:function(){return {since:t.insightsDataAvailability*l.MS_PER_SEC,until:Date.now()};},_getSelectedDateRange:function(){return {since:this.state.selectedStartTimestamp,until:this.state.selectedEndTimestamp};},_onSubmit:function(ra){this.setState({downloadStarted:true});var sa=n.getStatefulFields(),ta=sa.pageid,ua=sa.platform,va=sa.prev_section,wa=sa.section,xa=x.getURIBuilder().setString('page_id',ta).setString('platform',ua).setString('prev_section',va).setString('section',wa).setEnum('data_level',this.state.dataLevel).setString('start_time_text_field',this._formatTimestamp(this.state.selectedStartTimestamp)).setString('end_time_text_field',this._formatTimestamp(this.state.selectedEndTimestamp)).setEnum('format',this.state.format).setBool('parity_export',!this.state.selectedOldVersion).getURI().toString();new i().setURI(xa).send();},_handleDateRangeChange:function(ra){var sa=m.utc.range(ra.since,ra.until).length;this.setState({dateRangeIsTooLarge:sa>=t.maxDateRange,selectedStartTimestamp:ra.since,selectedEndTimestamp:ra.until});},render:function(){return (v.createElement(y,{behaviors:{LayerFadeOnHide:q},shown:true,width:726},this._getDialogTitle(),v.createElement(j,null,v.createElement(z,{className:"_49g"},this._getIntro(),v.createElement(r,null,v.createElement(la,null,this._getDataTypeSelector()),v.createElement(ka,null,this._getDateRangePicker(),this._getFileFormatSelector(),this._getExportVersionSelector())),this._getDateRangeWarning()),v.createElement(da,{className:"_3-8y",leftContent:this._getPageTerms()},v.createElement(ba,null),v.createElement(aa,{action:"confirm",disabled:this.state.dateRangeIsTooLarge,label:ia._("Export Data"),onClick:this._onSubmit})))));},renderLayers:function(){if(this.state.downloadStarted){var ra=this.state.exportFailed?ia._("Your download failed. Please try again shortly."):ia._("Your download has started.");return {dialog:v.createElement(y,{behaviors:{LayerFadeOnHide:q},onToggle:this._onDialogToggle,shown:true,width:300},this._getDialogTitle(),v.createElement(z,{className:"_49g"},v.createElement(ga,{size:"medium"},ra)))};}},_onDialogToggle:function(){this.setState({downloadStarted:false,exportFailed:false});},_getDialogTitle:function(){return (v.createElement(ca,null,ia._("Export Insights Data")));},_getIntro:function(){return (v.createElement(ga,{className:"_49l",display:"block"},ia._({"*":"Select a data type, file format and date range. You can export up to {maxNumberPosts} posts at a time."},[ia.param("maxNumberPosts",t.maxNumPosts,[0])])));},_getPostExport:function(){return this.props.isGlobalRoot?null:(v.createElement(pa,{onDataLevelChange:this._handleDataLevelChange,value:t.postDataLevel},ia._("Post data"),ia._("Key post metrics for reach, impressions and feedback.")));},_getVideoExport:function(){return (!t.showVideoExport||this.props.isGlobalRoot)?null:(v.createElement(pa,{onDataLevelChange:this._handleDataLevelChange,value:t.videoDataLevel},ia._("Video data"),ia._("Key video metrics including views, unique views, paid views and organic views.")));},_getDataTypeSelector:function(){return (v.createElement("div",{className:"_49n"},v.createElement(oa,null,ia._("Data Type")),v.createElement(pa,{onDataLevelChange:this._handleDataLevelChange,checked:true,value:t.pageDataLevel},ia._("Page data"),ia._("Key Page metrics for engagement, like sources and audience details.")),this._getPostExport(),this._getVideoExport()));},_handleDataLevelChange:function(ra,sa){this.setState({dataLevel:sa});},_formatTimestamp:function(ra){var sa=new Date(ra);return [sa.getUTCMonth()+1,sa.getUTCDate(),sa.getUTCFullYear()].join('/');},_getDateRangePicker:function(){return (v.createElement("div",{className:"_49n"},v.createElement(oa,null,ia._("Date Range")),v.createElement(p,{actuatorSize:"xlarge",lifetimeDateRange:this._getLifetimeRange(),selectedDateRange:this._getSelectedDateRange(),onRangeChange:this._handleDateRangeChange})));},_getFileFormatSelector:function(){return (v.createElement("div",{className:"_49n"},v.createElement(oa,null,ia._("File Format")),v.createElement(k,{defaultValue:"xls",name:"format",onChange:this._handleFileFormatChange,density:"svelt"},v.createElement(ja,{value:"xls"},ia._("Excel (.xls)")),v.createElement(ja,{value:"csv"},ia._("Comma-separated values (.csv)")))));},_handleFileFormatChange:function(ra){this.setState({format:ra.value});},_getExportVersionSelector:function(){return (v.createElement("div",null,v.createElement(o,{className:"_49n"},v.createElement("input",{defaultChecked:this.state.selectedOldVersion,type:"checkbox",value:false,onChange:this._handleExportVersionChange}),v.createElement("label",null,v.createElement(ga,{size:"medium",weight:"normal"},ia._("Export data using the old template")),v.createElement(g,{className:"_49o",position:"above",width:310},ia._("This template uses formatting and metrics from the previous Page Insights design, including People Talking About This (PTAT) and viral reach."))))));},_handleExportVersionChange:function(ra){this.setState({selectedOldVersion:!this.state.selectedOldVersion});},_getDateRangeWarning:function(){return !this.state.dateRangeIsTooLarge?null:(v.createElement(ea,{use:"warn"},ia._({"*":"Please select a time range shorter than {maxDateRange} days to export insights data."},[ia.param("maxDateRange",t.maxDateRange,[0])])));},_getPageTerms:function(){return (v.createElement(ga,{size:"small"},v.createElement(s,{href:"/page_guidelines.php",target:"_blank"},ia._("Facebook Page Terms"))));}});e.exports=qa;},null);
__d("HubblePageInsightsExportLink.react",["HubblePageInsightsExportDialog.react","React","ReactLayeredComponentMixin","XUIText.react","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=h.createClass({displayName:"HubblePageInsightsExportLink",mixins:[i],getInitialState:function(){return {showExportDialog:false};},_showExportDialog:function(){this.setState({showExportDialog:true});},_closeExportDialog:function(){this.setState({showExportDialog:false});},render:function(){return (h.createElement(j,{className:this.props.className,onClick:this._showExportDialog},k._("Export")));},renderLayers:function(){if(!this.state.showExportDialog)return {};return {dialog:h.createElement(g,{onDialogClose:this._closeExportDialog,isGlobalRoot:this.props.isGlobalRoot})};}});e.exports=l;},null);
__d("XPageCompetitorMutationController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pages\/watch\/mutate\/",{});},null);